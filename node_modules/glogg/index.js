'use strict';

var format = require('util').format;

var sparkles = require('sparkles');

var levels = [
  'debug',
  'info',
  'warn',
  'error'
];

<<<<<<< HEAD
function getLogger(namespace){
  var logger = sparkles(namespace);

  levels.forEach(function(level){
    logger[level] = makeLogLevel(level);
=======
function getLogger(namespace) {
  var logger = sparkles(namespace);

  levels.forEach(function(level){
    logger[level] = makeLogLevel(logger, level);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  });

  return logger;
}

<<<<<<< HEAD
function makeLogLevel(level){
  return function(msg){
    if(typeof msg === 'string'){
      msg = format.apply(null, arguments);
    }

    this.emit(level, msg);
=======
function makeLogLevel(self, level) {
  return function(msg){
    if (typeof msg === 'string') {
      msg = format.apply(null, arguments);
    }

    self.emit(level, msg);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  };
}

module.exports = getLogger;
