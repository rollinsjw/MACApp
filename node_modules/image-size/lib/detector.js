'use strict';

<<<<<<< HEAD
var typeMap = {};
var types = require('./types');

// load all available handlers
types.forEach(function (type) {
  typeMap[type] = require('./types/' + type).detect;
});

module.exports = function (buffer, filepath) {
  var type, result;
  for (type in typeMap) {
    result = typeMap[type](buffer, filepath);
=======
var typeHandlers = require('./types');

module.exports = function (buffer, filepath) {
  var type, result;
  for (type in typeHandlers) {
    result = typeHandlers[type].detect(buffer, filepath);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
    if (result) {
      return type;
    }
  }
};
