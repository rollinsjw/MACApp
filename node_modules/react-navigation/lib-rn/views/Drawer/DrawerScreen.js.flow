/* @flow */

<<<<<<< HEAD
import React, { PureComponent } from 'react';
=======
import * as React from 'react';
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7

import SceneView from '../SceneView';
import withCachedChildNavigation from '../../withCachedChildNavigation';

import type {
  NavigationScreenProp,
  NavigationState,
  NavigationRoute,
<<<<<<< HEAD
  NavigationAction,
=======
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  NavigationRouter,
  NavigationDrawerScreenOptions,
} from '../../TypeDefinition';

type Props = {
  screenProps?: {},
<<<<<<< HEAD
  router: NavigationRouter<
    NavigationState,
    NavigationAction,
    NavigationDrawerScreenOptions
  >,
  navigation: NavigationScreenProp<NavigationState, NavigationAction>,
  childNavigationProps: {
    [key: string]: NavigationScreenProp<NavigationRoute, NavigationAction>,
=======
  router: NavigationRouter<NavigationState, NavigationDrawerScreenOptions>,
  navigation: NavigationScreenProp<NavigationState>,
  childNavigationProps: {
    [key: string]: NavigationScreenProp<NavigationRoute>,
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  },
};

/**
 * Component that renders the child screen of the drawer.
 */
<<<<<<< HEAD
class DrawerScreen extends PureComponent<void, Props, void> {
  props: Props;

=======
class DrawerScreen extends React.PureComponent<Props> {
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  render() {
    const {
      router,
      navigation,
      childNavigationProps,
      screenProps,
    } = this.props;
    const { routes, index } = navigation.state;
    const childNavigation = childNavigationProps[routes[index].key];
    const Content = router.getComponentForRouteName(routes[index].routeName);
    return (
      <SceneView
        screenProps={screenProps}
        component={Content}
        navigation={childNavigation}
      />
    );
  }
}

export default withCachedChildNavigation(DrawerScreen);
