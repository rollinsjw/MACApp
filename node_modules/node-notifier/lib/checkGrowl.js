var net = require('net');

var hasGrowl = false;
module.exports = function(growlConfig, cb) {
  if (typeof cb === 'undefined') {
    cb = growlConfig;
    growlConfig = {};
  }
<<<<<<< HEAD
  if (hasGrowl) return cb(hasGrowl);
=======
  if (hasGrowl) return cb(null, hasGrowl);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  var port = growlConfig.port || 23053;
  var host = growlConfig.host || 'localhost';
  var socket = net.connect(port, host);
  socket.setTimeout(100);

  socket.on('connect', function() {
    socket.end();
<<<<<<< HEAD
    cb(true);
=======
    cb(null, true);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  });

  socket.on('error', function() {
    socket.end();
<<<<<<< HEAD
    cb(false);
=======
    cb(null, false);
>>>>>>> a622a84fa9b65a4b43e8645addefe35ee1624fe7
  });
};
